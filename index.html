<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioToolHub: Essential Lab Calculators</title>
    <style>
        /* 临时样式，后续会移到单独的CSS文件中 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #000033;
            color: white;
        }

        /* 导航栏样式 */
        nav {
            background: rgba(0, 0, 51, 0.9);
            padding: 1rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
        }

        nav ul {
            display: flex;
            justify-content: flex-end;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
        }

        /* 主标题区域 */
        .hero {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            margin-top: 60px;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* 计算器卡片区域 */
        .calculators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .calculator-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .calculator-card:hover {
            transform: translateY(-5px);
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: #4ecdc4;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#glucose">Glucose Calculator</a></li>
            <li><a href="#molarity">Molarity Calculator</a></li>
            <li><a href="#cell">Cell Counting Calculator</a></li>
            <li><a href="#cloning">Cloning Calculator</a></li>
            <li><a href="#contact">Contact me</a></li>
        </ul>
    </nav>

    <!-- 主标题区域 -->
    <section class="hero">
        <div>
            <h1>BioToolHub: Essential Lab Calculators</h1>
            <p>让实验室计算更简单、更准确</p>
        </div>
    </section>

    <!-- 计算器卡片区域 -->
    <section class="calculators">
        <div class="calculator-card">
            <h2>Glucose Calculator</h2>
            <p>快速计算葡萄糖浓度和配置方案</p>
            <a href="#glucose" class="btn">开始使用</a>
        </div>

        <div class="calculator-card">
            <h2>Cell Counting Calculator</h2>
            <p>精确计算细胞计数和密度</p>
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <a href="hemocytometer.html" class="btn">血球计数器计算</a>
                <a href="cell-culture.html" class="btn">细胞培养计算</a>
            </div>
        </div>

        <div class="calculator-card">
            <h2>Molarity Calculator</h2>
            <p>轻松计算摩尔浓度和稀释方案</p>
            <a href="#molarity" class="btn">开始使用</a>
        </div>

        <div class="calculator-card">
            <h2>Cloning Calculator</h2>
            <p>设计你的克隆实验方案</p>
            <a href="#cloning" class="btn">开始使用</a>
        </div>

        <div class="calculator-card">
            <h2>AI Podcast</h2>
            <p>探索生物科技前沿资讯</p>
            <a href="#podcast" class="btn">开始收听</a>
        </div>
    </section>

    <!-- 葡萄糖计算器区域 -->
    <section id="glucose" class="calculator-section" style="padding: 2rem; max-width: 1200px; margin: 0 auto;">
        <h2 style="color: #4ecdc4; text-align: center; margin-bottom: 2rem;">Glucose Calculators</h2>
        
        <!-- 标签页导航 -->
        <div class="tab-nav" style="display: flex; justify-content: center; margin-bottom: 2rem;">
            <button class="tab-btn active" onclick="openTab('mediaCalc')" style="padding: 1rem 2rem; margin: 0 0.5rem; background: #4ecdc4; border: none; color: white; cursor: pointer; border-radius: 5px;">Media Calculator</button>
            <button class="tab-btn" onclick="openTab('conversionCalc')" style="padding: 1rem 2rem; margin: 0 0.5rem; background: #4ecdc4; border: none; color: white; cursor: pointer; border-radius: 5px;">Unit Conversion</button>
            <button class="tab-btn" onclick="openTab('mixtureCalc')" style="padding: 1rem 2rem; margin: 0 0.5rem; background: #4ecdc4; border: none; color: white; cursor: pointer; border-radius: 5px;">Mixture Calculator</button>
        </div>

        <!-- 培养基计算器 -->
        <div id="mediaCalc" class="tab-content" style="background: rgba(255, 255, 255, 0.1); padding: 2rem; border-radius: 10px;">
            <h3 style="color: #4ecdc4; margin-bottom: 1rem;">Glucose Media Calculator</h3>
            <div class="form-group">
                <label>Select glucose unit and enter current concentration</label>
                <select id="glucoseUnit" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
                    <option value="mg/dL">mg/dL</option>
                    <option value="mM">mM</option>
                </select>
                <input type="number" id="currentGlucose" placeholder="Enter concentration" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <!-- 其他输入字段 -->
            <div class="form-group">
                <label>Desired final glucose concentration (mmol/L)</label>
                <input type="number" id="finalGlucose" placeholder="mmol/L" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Current culture volume (µL)</label>
                <input type="number" id="currentVolume" placeholder="µL" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Desired final volume (µL)</label>
                <input type="number" id="finalVolume" placeholder="µL" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Number of wells</label>
                <input type="number" id="numWells" placeholder="Number of wells" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <button onclick="calculateMedia()" style="width: 100%; padding: 1rem; background: #4ecdc4; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 1rem;">Calculate</button>
            <div id="mediaResult" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 5px;"></div>
        </div>

        <!-- 单位转换计算器 -->
        <div id="conversionCalc" class="tab-content" style="display: none; background: rgba(255, 255, 255, 0.1); padding: 2rem; border-radius: 10px;">
            <h3 style="color: #4ecdc4; margin-bottom: 1rem;">Glucose Unit Conversion</h3>
            <div class="form-group">
                <label>Enter value</label>
                <input type="number" id="conversionInput" placeholder="Enter value" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Convert from</label>
                <select id="fromUnit" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
                    <option value="mg/dL">mg/dL</option>
                    <option value="mM">mM</option>
                </select>
            </div>
            <button onclick="convertUnits()" style="width: 100%; padding: 1rem; background: #4ecdc4; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 1rem;">Convert</button>
            <div id="conversionResult" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 5px;"></div>
        </div>

        <!-- 混合计算器 -->
        <div id="mixtureCalc" class="tab-content" style="display: none; background: rgba(255, 255, 255, 0.1); padding: 2rem; border-radius: 10px;">
            <h3 style="color: #4ecdc4; margin-bottom: 1rem;">Glucose Mixture Calculator</h3>
            <div class="form-group">
                <label>Stock Solution 1 Concentration (mM)</label>
                <input type="number" id="stock1Conc" placeholder="mM" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Stock Solution 2 Concentration (mM)</label>
                <input type="number" id="stock2Conc" placeholder="mM" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Desired Final Concentration (mM)</label>
                <input type="number" id="desiredConc" placeholder="mM" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <div class="form-group">
                <label>Final Volume (mL)</label>
                <input type="number" id="mixtureVolume" placeholder="mL" style="width: 100%; padding: 0.5rem; margin: 0.5rem 0; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid #4ecdc4;">
            </div>
            <button onclick="calculateMixture()" style="width: 100%; padding: 1rem; background: #4ecdc4; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 1rem;">Calculate</button>
            <div id="mixtureResult" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.05); border-radius: 5px;"></div>
        </div>
    </section>

    <script>
        // 标签页切换功能
        function openTab(tabName) {
            var tabContents = document.getElementsByClassName("tab-content");
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].style.display = "none";
            }
            document.getElementById(tabName).style.display = "block";

            var tabBtns = document.getElementsByClassName("tab-btn");
            for (var i = 0; i < tabBtns.length; i++) {
                tabBtns[i].classList.remove("active");
            }
            event.currentTarget.classList.add("active");
        }

        // 培养基计算器功能
        function calculateMedia() {
            var glucoseUnit = document.getElementById("glucoseUnit").value;
            var currentGlucose = parseFloat(document.getElementById("currentGlucose").value);
            var finalGlucose = parseFloat(document.getElementById("finalGlucose").value);
            var currentVolume = parseFloat(document.getElementById("currentVolume").value) / 1000;
            var finalVolume = parseFloat(document.getElementById("finalVolume").value) / 1000;
            var numWells = parseInt(document.getElementById("numWells").value);

            var currentGlucoseMMol = glucoseUnit === "mg/dL" ? currentGlucose / 18 : currentGlucose;

            var totalGlucoseRequired = finalGlucose * finalVolume;
            var totalCurrentGlucose = currentGlucoseMMol * currentVolume;
            var glucoseToAdd = totalGlucoseRequired - totalCurrentGlucose;
            var volumeToAdd = finalVolume - currentVolume;

            var y = (glucoseToAdd - 5 * volumeToAdd) / 20;
            var x = volumeToAdd - y;

            var xMicroLiters = x * 1000;
            var yMicroLiters = y * 1000;
            var totalXMicroLiters = xMicroLiters * numWells;
            var totalYMicroLiters = yMicroLiters * numWells;

            if (xMicroLiters >= 0 && yMicroLiters >= 0) {
                document.getElementById("mediaResult").innerHTML = 
                    `<p>Per well:</p>
                     <p>5mM glucose media: ${formatVolume(x)}</p>
                     <p>25mM glucose media: ${formatVolume(y)}</p>
                     <p>For ${numWells} wells:</p>
                     <p>5mM glucose media: ${formatVolume(totalXMicroLiters/1000)}</p>
                     <p>25mM glucose media: ${formatVolume(totalYMicroLiters/1000)}</p>`;
            } else {
                document.getElementById("mediaResult").innerHTML = 
                    "<p>Error: Please check your inputs. The desired concentration cannot be achieved with given parameters.</p>";
            }
        }

        // 单位转换计算器功能
        function convertUnits() {
            var value = parseFloat(document.getElementById("conversionInput").value);
            var fromUnit = document.getElementById("fromUnit").value;
            var result;
            var toUnit;

            if (fromUnit === "mg/dL") {
                result = value / 18;
                toUnit = "mM";
            } else {
                result = value * 18;
                toUnit = "mg/dL";
            }

            document.getElementById("conversionResult").innerHTML = 
                `<p>${value} ${fromUnit} = ${result.toFixed(2)} ${toUnit}</p>`;
        }

        // 混合计算器功能
        function calculateMixture() {
            var stock1 = parseFloat(document.getElementById("stock1Conc").value);
            var stock2 = parseFloat(document.getElementById("stock2Conc").value);
            var desired = parseFloat(document.getElementById("desiredConc").value);
            var finalVol = parseFloat(document.getElementById("mixtureVolume").value);

            if (desired > Math.max(stock1, stock2) || desired < Math.min(stock1, stock2)) {
                document.getElementById("mixtureResult").innerHTML = 
                    "<p>Error: Desired concentration must be between stock solution concentrations.</p>";
                return;
            }

            var vol1 = finalVol * (desired - stock2) / (stock1 - stock2);
            var vol2 = finalVol - vol1;

            document.getElementById("mixtureResult").innerHTML = 
                `<p>Volume of ${stock1}mM solution: ${vol1.toFixed(2)} mL</p>
                 <p>Volume of ${stock2}mM solution: ${vol2.toFixed(2)} mL</p>`;
        }

        // 体积格式化函数
        function formatVolume(volume) {
            if (volume >= 1000) {
                return (volume / 1000).toFixed(2) + ' L';
            } else if (volume >= 1) {
                return volume.toFixed(2) + ' mL';
            } else {
                return (volume * 1000).toFixed(2) + ' µL';
            }
        }
    </script>
</body>
</html> 